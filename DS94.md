### На 1 ВМ создаем таблицы test для записи, test2 для запросов на чтение
```sql
postgres=# create table test as
select
  generate_series(1,10) as id,
  md5(random()::text)::char(10) as fio;
SELECT 10
postgres=# create table test2 as
select
  generate_series(1,10) as id,
  md5(random()::text)::char(10) as fio;
SELECT 10
```
###

```sql
postgres=# create publication test_pub for table test;
WARNING:  wal_level is insufficient to publish logical changes
HINT:  Set wal_level to "logical" before creating subscriptions.
CREATE PUBLICATION
```

#### Вышло предупреждение, что уровня wal_level недостаточно для публикации
```sql
postgres=# show wal_level ;
 wal_level
-----------
 replica
(1 row)
```
##### Проверим уровень, да уровень replica. Со значением replica(он по умолчанию) в журнал записываются данные, необходимые для поддержки архивирования wal и репликации, включая запросы только на чтение на ведомом сервере. Minimal сохраняет только информацию, необходимую для восстановления после аварийного отключения. Logical добавляет информацию, требующуюся для поддержки логического декодирования. Задать параметр можно только при перезапуске сервера. Сделаем это.

```sql
postgres=# alter system set wal_level = logical;
ALTER SYSTEM
root@compute-vm-2-2-20-ssd-1743663539012:~#  pg_ctlcluster 16 main restart
postgres=# show wal_level ;
 wal_level
-----------
 logical
(1 row)


postgres=# \dRp+
                            Publication test_pub
  Owner   | All tables | Inserts | Updates | Deletes | Truncates | Via root
----------+------------+---------+---------+---------+-----------+----------
 postgres | f          | t       | t       | t       | t         | f
Tables:
    "public.test"


```
